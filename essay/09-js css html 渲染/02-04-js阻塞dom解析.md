# JS 阻塞 DOM 解析

``````js
const arr = [];
for (let i = 0; i < 10000000; i++) {
    arr.push(i);
    arr.splice(i % 3, i % 7, i % 5);
} // 这段代码是为了让js文件执行的更加久一些
const div = document.querySelector('div');
console.log(div);
``````

然后我们访问以下页面，可以看到浏览器在加载，页面空白，然后打印出null，最后才出现浅绿色的div。
这就说明了JS是阻塞DOM的解析。
原因也很简单 ，浏览器无法预知js文件里有什么内容，万一JS脚本内删除了后面即将解析的DOM元素，那么浏览器就白干活了。
所以浏览器会等待脚本执行完毕之后才继续解析后面的DOM。


# 总结
所以总结一下就是JavaScript 可以阻塞 DOM 的生成，也就是说当浏览器在解析 HTML 文档时，如果遇到<script>，便会停下对 HTML 文档的解析，转而去处理脚本。如果脚本是内联的，浏览器会先去执行这段内联的脚本，如果是外链的，那么先会去加载脚本，然后执行。在处理完脚本之后，浏览器便继续解析 HTML 文档。
