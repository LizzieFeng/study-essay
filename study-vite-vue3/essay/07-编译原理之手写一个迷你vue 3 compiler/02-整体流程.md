整体流程

上述转化的过程可以分为下面的示意图几步来实现。首先，代码会被解析成一个对象，这个对象有点像虚拟 DOM 的概念，用来描述 template 的代码关系，这个对象就是抽象语法树（简称 AST，后面我们细讲）。然后通过 transform 模块对代码进行优化，比如识别 Vue 中的语法，静态标记、最后通过 generate 模块生成最终的 render 函数。

如图：02-整体流程分解示意图

理清了流程，我们动手完成具体代码实现。用下面的代码就能实现上述的流程图里的内容。其中 parse 函数负责生成抽象语法树 AST，transform 函数负责语义转换，generate 函数负责最终的代码生成。 参考代码02-compiler

我们先来看下 parse 函数如何实现。template 转成 render 函数是两种语法的转换，这种代码转换的需求其实计算机的世界中非常常见。比如我们常用的 Babel，就是把 ES6 的语法转成低版本浏览器可以执行的代码。